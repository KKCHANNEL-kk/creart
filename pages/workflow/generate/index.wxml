<view class="workflow-generate-page">
  <view style="text-align: center; color: #b9b9b9" wx:if="{{pageLoading}}">
    <t-loading theme="circular" size="40rpx" text="加载中..." inherit-color />
  </view>
  <!-- <view class="styles-page-header">
    <view class="search" bind:tap="navToSearchPage">
      <t-search
        t-class-input="t-search__input"
        t-class-input-container="t-search__input-container"
        placeholder="搜索风格"
        leftIcon=""
        disabled>
        <t-icon slot="left-icon" prefix="wr" name="search" size="40rpx" color="#bbb" />
      </t-search>
    </view>
  </view> -->
  <view class="generate-page-container">
    <view class="form-container">
      <view
        wx:for="{{ formData }}"
        wx:key="index"
        wx:for-item="formItem"
        class="form-item">
        <view wx:if="{{formItem.type === 'image'}}" class="form-item-image">
          <view class="label">{{formItem.description}}</view>
          <t-upload
            mediaType="{{['image']}}"
            max="{{1}}"
            files="{{fileList}}"
            bind:add="handleAddImage"
            bind:remove="handleRemoveImage">
          </t-upload>
        </view>
        <t-textarea
          wx:if="{{formItem.type === 'string'}}"
          label="{{formItem.description}}"
          placeholder="请输入文字"
          value="{{formValue[formItem.key]}}"
          disableDefaultPadding="{{true}}"
          autosize="{{autosize}}"
          mark:key="{{formItem.key}}"
          bind:line-change="onLineChange"
          bind:change="onTextChange" />
      </view>
    </view>
    <t-button theme="primary" size="large" bind:tap="handleFormSubmit">提交</t-button>
    <t-toast id="t-success-toast" bind:close="handleSuccessToastClose" />
  </view>
</view>